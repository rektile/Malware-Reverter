from classes.snapshots import Snapshot


class Analyzer:

    def __init__(self):
        self.snapshot1: Snapshot = None
        self.snapshot2: Snapshot = None

        self.difference = []

    def makeSnapshot(self):
        snap = self.snapshot()

        if not self.snapshot1:
            self.snapshot1 = snap
        elif not self.snapshot2:
            self.snapshot2 = snap
        else:
            raise ValueError("Already got 2 snapshots!")

    def snapshot(self) -> Snapshot:
        raise NotImplementedError()

    def compare(self) -> None:

        differences = []

        if self.snapshot1 and self.snapshot2:
            for snap1, snap2 in zip(self.snapshot1, self.snapshot2):
                differences.append(snap1.compare(snap2))
        else:
            raise ValueError("Need 2 snapshot before comparing!")

    def showResults(self):
        print(self.difference)
        raise NotImplementedError()